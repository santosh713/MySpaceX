<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hours Tracker • MySpaceX</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/js/all.min.js"
    crossorigin="anonymous"></script>
</head>

<body class="bg-gray-50 min-h-screen flex flex-col">
  <!-- Shared navbar -->
  <div id="navbar"></div>

  <main class="max-w-7xl mx-auto px-6 lg:px-8 py-12 flex-1 w-full">
    <!-- Page header -->
    <header class="text-center mb-10">
      <h1 class="text-4xl md:text-5xl font-extrabold
                 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500
                 bg-clip-text text-transparent">
        Hours Tracker
      </h1>
      <p class="text-gray-600 mt-3">
        Clock in/out in real time. If you forgot, add a shift manually.
      </p>
    </header>

    <!-- Realtime status -->
    <section class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
      <div class="bg-white rounded-2xl shadow p-6 text-center">
        <div class="text-sm text-gray-500">Current Time</div>
        <div id="now" class="text-2xl font-bold text-gray-900">--:--:--</div>
      </div>
      <div class="bg-white rounded-2xl shadow p-6 text-center">
        <div class="text-sm text-gray-500">Status</div>
        <div id="status" class="text-lg font-semibold text-gray-900">Not clocked in</div>
        <div id="since" class="text-sm text-gray-500 mt-1"></div>
      </div>
      <div class="bg-white rounded-2xl shadow p-6 flex items-center justify-center gap-3">
        <button id="clockInBtn" class="px-4 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 transition">
          <i class="fa-solid fa-play mr-2"></i>Clock In
        </button>
        <button id="clockOutBtn" class="px-4 py-2 rounded-lg bg-gray-200 text-gray-800 hover:bg-gray-300 transition"
          disabled>
          <i class="fa-solid fa-stop mr-2"></i>Clock Out
        </button>
      </div>
    </section>

    <!-- Manual add + actions -->
    <section class="bg-white rounded-2xl shadow p-6 mb-8">
      <div class="flex items-center justify-between flex-wrap gap-3">
        <div class="text-gray-700">
          Forgot to clock in or out?
          <button id="toggleManual" class="text-indigo-600 hover:underline ml-1">Add a shift manually</button>
        </div>
        <div class="flex gap-2">
          <button id="exportCsv"
            class="inline-flex items-center px-3 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100">
            <i class="fa-solid fa-file-arrow-down mr-2"></i>Export CSV
          </button>
          <button id="clearAll"
            class="inline-flex items-center px-3 py-2 rounded-lg border border-red-300 text-red-600 hover:bg-red-50">
            <i class="fa-solid fa-trash mr-2"></i>Clear All
          </button>
        </div>
      </div>

      <form id="manualForm" class="grid grid-cols-1 md:grid-cols-4 gap-4 mt-4 hidden">
        <div>
          <label class="block text-sm text-gray-600 mb-1" for="mDate">Date</label>
          <input id="mDate" type="date" required
            class="w-full rounded-lg border-gray-300 focus:ring-indigo-500 focus:border-indigo-500">
        </div>
        <div>
          <label class="block text-sm text-gray-600 mb-1" for="mStart">Start</label>
          <input id="mStart" type="time" required
            class="w-full rounded-lg border-gray-300 focus:ring-indigo-500 focus:border-indigo-500">
        </div>
        <div>
          <label class="block text-sm text-gray-600 mb-1" for="mEnd">End</label>
          <input id="mEnd" type="time" required
            class="w-full rounded-lg border-gray-300 focus:ring-indigo-500 focus:border-indigo-500">
        </div>
        <div class="flex items-end">
          <button class="w-full px-4 py-2 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 transition">
            Add Shift
          </button>
        </div>
      </form>
    </section>

    <!-- Summary cards -->
    <section class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
      <div class="bg-white rounded-2xl shadow p-5">
        <div class="text-sm text-gray-500">Total Shifts</div>
        <div id="sumShifts" class="text-2xl font-bold text-gray-900">0</div>
      </div>
      <div class="bg-white rounded-2xl shadow p-5">
        <div class="text-sm text-gray-500">Total Hours</div>
        <div id="sumHours" class="text-2xl font-bold text-gray-900">0.00</div>
      </div>
    </section>



    <!-- Weekly Summary -->
    <section class="bg-white rounded-2xl shadow overflow-hidden mb-6">
      <div class="px-4 py-3 border-b border-gray-200 bg-gray-50">
        <h2 class="text-lg font-semibold text-gray-800">Weekly Summary (Mon–Sun)</h2>
      </div>
      <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200">
          <thead class="bg-gray-50">
            <tr>
              <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Week</th>
              <th class="px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider">Total Hours
              </th>
              <th class="px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider">Shifts</th>
            </tr>
          </thead>
          <tbody id="weekBody" class="bg-white divide-y divide-gray-100"></tbody>
        </table>
      </div>
    </section>

    <!-- Detail table -->
    <section class="bg-white rounded-2xl shadow overflow-hidden">
      <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200">
          <thead class="bg-gray-50">
            <tr>
              <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Date</th>
              <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Start</th>
              <th class="px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">End</th>
              <th class="px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider">Hours</th>
              <th class="px-4 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider">Actions</th>
            </tr>
          </thead>
          <tbody id="tableBody" class="bg-white divide-y divide-gray-100"></tbody>
        </table>
      </div>
    </section>
  </main>
  
  <!-- Payday Controls -->
<section id="paydayControls" class="bg-white rounded-2xl shadow p-6 mb-6">
  <div class="flex flex-col md:flex-row md:items-end gap-4">
    <div>
      <label class="block text-sm text-gray-600 mb-1" for="paydayInput">
        Known Payday (must be a Friday)
      </label>
      <input id="paydayInput" type="date"
             class="rounded-lg border-gray-300 focus:ring-indigo-500 focus:border-indigo-500">
      <p class="text-xs text-gray-500 mt-1">
        We’ll use this to compute all bi-weekly pay periods (Mon–Sun × 2).
      </p>
    </div>
    <button id="savePayday"
            class="h-10 px-4 rounded-lg bg-indigo-600 text-white hover:bg-indigo-700 transition">
      Save Payday
    </button>
    <button id="clearPayday"
            class="h-10 px-4 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100 transition">
      Clear
    </button>
  </div>
  <div id="nextPaydayInfo" class="mt-3 text-sm text-gray-700"></div>
</section>

  <!-- Pay Periods (collapsible groups) -->
  <section class="bg-white rounded-2xl shadow overflow-hidden mb-6">
    <div class="px-4 py-3 border-b border-gray-200 bg-gray-50">
      <h2 class="text-lg font-semibold text-gray-800">Bi-Weekly Pay Periods</h2>
      <p class="text-xs text-gray-500">Mon–Sun, payday on Friday.</p>
    </div>
    <div id="payPeriods" class="p-0"></div>
  </section>


  <!-- Shared footer -->
  <div id="footer"></div>

  <script src="public/assets/js/config.js"></script>
  <script src="public/assets/js/main.js"></script>
  <script src="public/assets/js/hours.js"></script>
  
</body>

</html>